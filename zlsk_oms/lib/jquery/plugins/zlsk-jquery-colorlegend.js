!function(t){var e=function(e,n){this.options=n,this.$el=t(e),this.$el_=this.$el.clone(),this.init()};e.DEFAULTS={colorWidth:80,colorHeight:30,colorMargin:[0,0,0,5],data:null},e.prototype={init:function(){this._initUi(),this._updateUi()},destroy:function(){this.$el.html(this.$el_.html()).attr("class",this.$el_.attr("class")||"")},getOptions:function(){return this.options},setOptions:function(e){t.extend(this.options,e),this._updateUi()},refresh:function(){this._updateUi()},getData:function(){return this.options.data},updateItem:function(e,n){var i=e.key;t.each(this.options.data,function(n,o){o.key==i&&t.extend(o,e)}),n&&this._updateUi()},updateItems:function(e){var n=this;t.each(e,function(t,e){n.updateItem(e,!1)}),n._updateUi()},_initUi:function(){var t=this.$el;t.html('<table class="sfm-c-zlskjqcolorlegend-table"></table>'),this.$t=t.find(".sfm-c-zlskjqcolorlegend-table")},_updateUi:function(){var e=this,n=e.options.colorWidth,i=e.options.colorHeight,o=e.options.colorMargin,s="";n>0&&(s+="width:"+n+"px;"),i>0&&(s+="height:"+i+"px;"),null!=o&&("number"==typeof o?s+="margin:"+o+"px "+o+"px "+o+"px "+o+"px;":t.isArray(o)&&(1==o.length?s+="margin:"+o[0]+"px "+o[0]+"px "+o[0]+"px "+o[0]+"px;":2==o.length?s+="margin:"+o[0]+"px "+o[1]+"px "+o[0]+"px "+o[1]+"px;":3==o.length?s+="margin:"+o[0]+"px "+o[1]+"px "+o[2]+"px "+o[1]+"px;":o.length>3&&(s+="margin:"+o[0]+"px "+o[1]+"px "+o[2]+"px "+o[3]+"px;")));var l="";if(e.options.data)for(var a=0;a<e.options.data.length;a++){var r=e.options.data[a];l+='<tr class="sfm-c-zlskjqcolorlegend-legend" data-sfm-key="'+(r.key||"")+'"><td><div class="sfm-c-zlskjqcolorlegend-legend-color" style="'+s+"background-color: "+r.color+';"></div></td><td>',"string"==typeof r.text?l+='<div class="sfm-c-zlskjqcolorlegend-legend-text sfm-c-zlskjqcolorlegend-legend-text0">'+r.text+"</div>":t.isArray(r.text)&&t.each(r.text,function(t,e){l+='<div class="sfm-c-zlskjqcolorlegend-legend-text sfm-c-zlskjqcolorlegend-legend-text'+t+'">'+e+"</div>"}),l+="</td></tr>"}e.$t.html(l)},version:"1.0.0"};var n=["destroy","getOptions","setOptions","refresh","getData","updateItem","updateItems"];t.fn.zlskJqColorLegend=function(i){var o,s=Array.prototype.slice.call(arguments,1);return this.each(function(){var l=t(this),a=l.data("zlskjq.legend"),r=t.extend({},e.DEFAULTS,l.data(),"object"==typeof i&&i);if(a||l.data("zlskjq.legend",a=new e(this,r)),"string"==typeof i){if(t.inArray(i,n)<0)throw new Error("Unknown method: "+i);if(!a)return;o=a[i].apply(a,s),"destroy"===i&&l.removeData("zlskjq.legend")}}),void 0===o?this:o}}(jQuery);
