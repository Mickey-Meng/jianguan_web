!function(t){var i=function(i,s){this.options=s,this.$el=t(i),this.$el_=this.$el.clone(),this.init()};i.DEFAULTS={sfm_start:0,navHeight:42,prevBtnWidth:30,nextBtnWidth:30,tabWidth:90,stepWidth:90,tabSameWidth:!0,alwaysShowTab:!1},i.prototype={init:function(){this._initUi(),this._updateUi(),this._bindEvents(),this._updateNav()},destroy:function(){this.$el.html(this.$el_.html()).attr("class",this.$el_.attr("class")||"")},appendTab:function(t){var i=t.key,s=void 0==t.title?t.key:t.title,e=this.options.tabSameWidth?"width: "+this.options.tabWidth+"px":"",a='<li role="presentation" class="sfm-c-bs3pagedtabs-li" style="max-width: '+this.options.tabWidth+"px;"+e+'"><a href="#'+i+'" aria-controls="'+i+'" role="tab" data-toggle="tab" title="'+s+'">'+s+"</a></li>",n='<div id="'+i+'" class="tab-pane"></div>';this.$ul.append(a),this.$panec.append(n),this._checkActive(),this._updateNav(),!1!==t.show&&this.$ul.find('a[href="#'+i+'"]').tab("show")},removeTab:function(t){this.$panec.find("#"+t).remove(),this.$ul.find('a[href="#'+t+'"]').parent("li").remove(),this._checkActive(),this._updateNav()},hasPane:function(t){return this.$panec.find("#"+t).length>0},getPane:function(t){return this.$panec.find("#"+t)},_initUi:function(){var t=this,i=t.$el;i.html('<div class="sfm-c-bs3pagedtabs-tab-container" style="text-align: center;"><div class="sfm-c-bs3pagedtabs-prev"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span></div><div class="sfm-c-bs3pagedtabs-tabs" style="overflow: hidden;"><ul class="nav nav-tabs sfm-c-bs3pagedtabs-ul" role="tablist"></ul></div><div class="sfm-c-bs3pagedtabs-next"><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></div></div><div class="tab-content sfm-c-bs3pagedtabs-pane-container"></div>'),t.$tabc=i.find(".sfm-c-bs3pagedtabs-tab-container"),t.$prev=i.find(".sfm-c-bs3pagedtabs-prev"),t.$next=i.find(".sfm-c-bs3pagedtabs-next"),t.$tabs=i.find(".sfm-c-bs3pagedtabs-tabs"),t.$ul=i.find(".sfm-c-bs3pagedtabs-ul"),t.$panec=i.find(".sfm-c-bs3pagedtabs-pane-container")},_updateUi:function(){var t=this,i=t.$el.width(),s=t.$el.height();t.$tabc.height(t.options.navHeight),t.$panec.height(s-t.options.navHeight),t.$prev.width(t.options.prevBtnWidth).css("line-height",t.options.navHeight+"px"),t.$next.width(t.options.nextBtnWidth).css("line-height",t.options.navHeight+"px");var e=t.$prev.outerWidth(!0),a=t.$next.outerWidth(!0);t.$tabs.width(i-e-a)},_bindEvents:function(){var t=this;t.$prev.on("click",function(){t._checkBtn(1)&&(t.options.sfm_start+=t.options.stepWidth),t._updateNav()}),t.$next.on("click",function(){t._checkBtn(2)&&(t.options.sfm_start-=t.options.stepWidth),t._updateNav()})},_updateNav:function(){var i=this,s=i.$el.width(),e=i.$el.height();if(i.$ul.find(".sfm-c-bs3pagedtabs-li").length<2&&!i.options.alwaysShowTab)return i.$tabc.hide(),void i.$panec.height(e);i.$tabc.show(),i.$panec.height(e-i.options.navHeight);var a=0;i.$ul.find(".sfm-c-bs3pagedtabs-li").each(function(){a+=t(this).outerWidth()});var n=i.options.sfm_start;if(a<=s)i.$prev.hide(),i.$next.hide(),i.$tabs.width(s),i._updateUlPos(0);else{i.$prev.show(),i.$next.show();var d=i.$prev.outerWidth(!0),h=i.$next.outerWidth(!0);i.$tabs.width(s-d-h),s=i.$tabs.width(),i.$ul.width(a),n>=0?(i._updateUlPos(0),i.$prev.addClass("sfm-f-disabled")):(i._updateUlPos(n),i.$prev.removeClass("sfm-f-disabled")),a+n<=s?(i._updateUlPos(s-a),i.$next.addClass("sfm-f-disabled")):(i._updateUlPos(n),i.$next.removeClass("sfm-f-disabled"))}},_updateUlPos:function(t){t>0&&(t=0),this.options.sfm_start=t,this.$ul.css("margin-left",t+"px")},_checkBtn:function(i){var s=this,e=s.$el.width(),a=0;s.$ul.find(".sfm-c-bs3pagedtabs-li").each(function(){a+=t(this).outerWidth()});var n=s.options.sfm_start;return!(a<=e)&&(e=s.$tabs.width(),1==i?!(n>=0):2==i&&!(a+n<=e))},_checkActive:function(){if(0==this.$ul.find("li.active").length){var t=this.$ul.find("li:eq(0)");t.addClass("active"),t.length>0&&this.$panec.find("#"+t.find("a").attr("href").substr(1)).addClass("active")}},version:"1.0.0"};var s=["destroy","appendTab","removeTab","hasPane","getPane"];t.fn.zlskBs3PagedTabs=function(e){var a,n=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=t(this),h=d.data("zlskbs3.pagedtabs"),o=t.extend({},i.DEFAULTS,d.data(),"object"==typeof e&&e);if(h||d.data("zlskbs3.pagedtabs",h=new i(this,o)),"string"==typeof e){if(t.inArray(e,s)<0)throw new Error("Unknown method: "+e);if(!h)return;a=h[e].apply(h,n),"destroy"===e&&d.removeData("zlskbs3.pagedtabs")}}),void 0===a?this:a}}(jQuery);
