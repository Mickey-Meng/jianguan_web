!function(t,e){"undefined"!=typeof module&&module.exports?module.exports=t(e):"function"==typeof define&&define.amd?define([],function(){return t(e)}):(null==e.SFM&&(e.SFM={}),e.SFM||(e.SFM={}),e.SFM.selib||(e.SFM.selib={}),e.SFM.selib.sfmSEnum=t(e))}(function(t){return{layerType:{FOLDER:""},controlType:{DEFAULT_WINDOW:0,FRAME_WINDOW:0,BUTTON:1,IMAGE_BUTTON:1,MENUITEM:1,EDITBOX:2,STATIC_TEXT:3,STATIC_IMAGE:4,CHECKBOX:5,RADIOBUTTON:6,COMBOBOX:7,TAB:8,DATAGRID:9,TREE:10,MULTIEDITBOX:11,COLOUR_PICKER:12,IMAGEBUTTON:13},textHAlign:{LEFT:0,CENTER:1,RIGHT:2,JUSTIFIED:3,WORDWRAP_LEFT:4,WORDWRAP_RIGHT:5,WORDWRAP_CENTER:6,WORDWRAP_JUSTIFIED:7},textVAlign:{TOP:0,BOTTOM:1,CENTER:2},controlHAlign:{LEFT:0,CENTER:1,RIGHT:2},controlVAlign:{TOP:0,CENTER:1,BOTTOM:2},ogrDriverType:{DXF:7,DWG:8,SHP:44},version:"1.0.0"}},this),function(e,n){if("undefined"!=typeof module&&module.exports){var t=require("sfmSEnum");module.exports=e(t,n)}else if("function"==typeof define&&define.amd)define(["sfmSEnum"],function(t){return e(t,n)});else{null==n.SFM&&(n.SFM={}),n.SFM||(n.SFM={});var r=n.SFM.selib||(n.SFM.selib={});n.SFM.selib.SfmSOgrHelper=e(r.sfmSEnum,n)}}(function(R,t){function o(e,t){try{return Number(e.toFixed(t))}catch(t){return e}}function P(t,e,n,r,a,i){return function(t,e,n,r,a,i){if(!t)return null;var l=r?exchange(t):{x:t.x,y:t.y,z:t.z||0};return 1==e?n&&(l={x:(l=n.src_xy_to_des_BLH(l.x,l.y,l.z||0)).x,y:l.y,z:l.z||0}):2==e&&n&&(l={x:(l=n.des_BLH_to_src_xy(l.x,l.y,l.z||0)).x,y:l.y,z:l.z||0}),null!=a&&0<=a&&(l.x=o(l.x,a),l.y=o(l.y,a),l.z=o(l.z,a)),null!=i&&0<=i&&(l.z=o(l.z,i)),l}(t,e,n,r,a,i)}function H(t,e,n,r,a,i){if(!t)return null;for(var l=[],o=null,s=0,u=t.GetGeometriesCount();s<u;s++)(o=P(t.GetGeometry(s),e,n,r,a,i))&&l.push(o);return l}function w(t,e,n,r,a,i){if(!t)return null;for(var l=[],o=null,s=0,u=t.GetPointsCount();s<u;s++)o=t.GetPoint(s),(o=P(o,e,n,r,a,i))&&l.push(o);return l}function U(t,e,n,r,a,i){if(!t)return null;for(var l=[],o=null,s=0,u=t.GetGeometriesCount();s<u;s++)(o=w(t.GetGeometry(s),e,n,r,a,i))&&l.push(o);return l}function W(t,e,n,r,a,i){return t?w(t.GetExteriorRing(),e,n,r,a,i):null}function V(t,e,n,r,a,i){if(!t)return null;for(var l=[],o=null,s=0,u=t.GetGeometriesCount();s<u;s++)(o=W(t.GetGeometry(s),e,n,r,a,i))&&l.push(o);return l}function a(t){for(var e="",n=null,r=0,a=t.length;r<a;r++)e+=(n=t[r]).x+" "+n.y+",";return e.slice(0,-1)}function i(t){return"POLYGON(("+a(t)+"))"}function X(t){if(!t)return null;var e=t.type,n=t.coor;if(!n)return null;var r=null;switch(e){case"point":r=function(t){return"POINT("+t.x+" "+t.y+")"}(n);break;case"multipoint":r=function(t){for(var e,n="MULTIPOINT(",r=0,a=t.length;r<a;r++)n+="("+((e=t[r]).x+" "+e.y)+"),";return n.slice(0,-1)+")"}(n);break;case"polyline":r=function(t){return"LINESTRING("+a(t)+")"}(n);break;case"multipolyline":r=function(t){for(var e="MULTILINESTRING(",n=0,r=t.length;n<r;n++)e+="("+a(t[n])+"),";return e.slice(0,-1)+")"}(n);break;case"polygon":r=i(n);break;case"multipolygon":r=function(t){for(var e="MULTIPOLYGON(",n=0,r=t.length;n<r;n++)e+=i(t[n]).slice(7)+",";return e.slice(0,-1)+")"}(n)}return r}var e=function(t){if(!(this instanceof e))return new e(t);this.initialize(t)};return e.prototype={initialize:function(t){this.data={},this.data._zlsksfm_earth=t.earth,this.data._zlsksfm_dp=t.dataPro},toWkt:X,loadDataFromFile:function(t,e,n,r,a,i,l,o,s){return function(t,e,n,r,a,i,l,o,s,u,f){if(!i)return null;var d=null;if(a)d="number"==typeof a?a:R.ogrDriverType[a];else{var c=t.split(".");switch(c=c[c.length-1].toLowerCase()){case"shp":d=44;break;case"dwg":d=8;break;case"dxf":d=7}}if(!d)return null;i.Load();var h=i.OGRDataProcess.GetDriverByType(d);if(!h)return null;for(var m=h.Open(t,0),_=m.GetLayerCount(),g=[],y=0,v=0;v<_;v++){var S=m.GetLayer(v),p=S.GetFeatureCount(),k=[];g.push({layer:S.Name,data:k});for(var C=0;C<p;C++){var z={},I=S.GetFeature(C);if(null!=e){for(var b={},G=I.GetFieldCount(),x=0;x<G;x++){var M=I.GetFieldDefn(x);if("ST_ALL"==e||0<=$.inArray(M.Name,e)){var B=null;switch(M.Type){case 0:B=I.GetFieldAsInteger(x);break;case 2:B=I.GetFieldAsDouble(x);break;case 4:case 6:B=I.GetFieldAsString(x);break;case 9:case 10:case 11:var T=(B=I.GetFieldAsDateTime(x)).Year,F=B.Month+1,E=B.Day,D=B.Hour,O=B.Minute,A=B.Second;B=T+"-"+(9<F?F:"0"+F)+"-"+E+" "+(9<D?D:"0"+D)+":"+(9<O?O:"0"+O)+":"+(9<A?A:"0"+A)}b[M.Name]=B}}z.attr=b}if(n){var L=null,N=I.GetGeometryType();1==N||1025==N?(L=P(I.GetPoint(),l,o,s,u,f))&&(z.type="point",z.coor=L):4==N||1028==N?(L=H(I.GetMultiPoint(),l,o,s,u,f))&&(z.type="multipoint",z.coor=L):2==N||1026==N?(L=w(I.GetLineString(),l,o,s,u,f))&&(z.type="polyline",z.coor=L):5==N||1029==N?(L=U(I.GetMultiLineString(),l,o,s,u,f))&&(z.type="multipolyline",z.coor=L):3==N||1027==N?(L=W(I.GetPolygon(),l,o,s,u,f))&&(z.type="polygon",z.coor=L):6!=N&&1030!=N||(L=V(I.GetMultiPolygon(),l,o,s,u,f))&&(z.type="multipolygon",z.coor=L),L&&(z.wkt=X(z))}if(k.push(z),y++,null!=r&&0<=r&&r<=y)return g}}return g}(t,e,n,r,a,i||this.data._zlsksfm_dp,l,o,s)},version:"1.0.0"},e},this),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=t(e):"function"==typeof define&&define.amd?define([],function(){return t(e)}):(null==e.SFM&&(e.SFM={}),e.SFM||(e.SFM={}),e.SFM.selib||(e.SFM.selib={}),e.SFM.selib.SfmSFileHelper=t(e))}(function(t){function o(t,e,n){return 1==e?"\\\\"+n.replace(/^http:\/\//gi,"").split(":")[0]+"\\home\\zlsksfm\\":t.Environment.RootPath+"zlsksfm\\"}var e=function(t){if(!(this instanceof e))return new e(t);this.initialize(t)};return e.prototype={initialize:function(t){var e=this;e.data={},e.data._zlsksfm_earth=t.earth,e.data._zlsksfm_ip=t.ip,e.data._zlsksfm_sm=0,e.data._zlsksfm_fd={}},setSaveMode:function(t){this.data._zlsksfm_sm=t},saveFile:function(t,e,n){var r=this.data._zlsksfm_earth,a=o(r,null==n?this.data._zlsksfm_sm:n,this.data._zlsksfm_ip);this.data._zlsksfm_fd[t]&&(this.data._zlsksfm_fd[t]=e),"string"!=typeof e&&(e=JSON.stringify(e));var i=a+t;return i=i.substr(0,i.lastIndexOf("\\")),r.UserDocument.CreateDirectory(i),r.UserDocument.SaveXmlFile(a+t,e),this},deleteFile:function(t,e){var n=this.data._zlsksfm_earth,r=o(n,null==e?this.data._zlsksfm_sm:e,this.data._zlsksfm_ip);return n.UserDocument.DeleteXmlFile(r+t+".xml"),delete this.data._zlsksfm_fd[t],this},getFileContent:function(t,e,n,r){var a=this.data._zlsksfm_earth,i=o(a,null==r?this.data._zlsksfm_sm:r,this.data._zlsksfm_ip);!n&&this.data._zlsksfm_fd[t]||(this.data._zlsksfm_fd[t]=a.UserDocument.loadXmlFile(i+t+".xml"));var l=this.data._zlsksfm_fd[t];if(!l)return null;if(!e)return"string"==typeof l?l:JSON.stringify(l);try{"string"==typeof l&&(l=this.data._zlsksfm_fd[t]=JSON.parse(l))}catch(t){l=null}return l},saveInfoByKey:function(t,e,n,r){var a=this.getFileContent(t,!0,!1,r);return(a=a||{})[e]=n,this.saveFile(t,a,r),this},getInfoByKey:function(t,e,n,r){var a=this.getFileContent(t,!0,n,r);return null==a?null:a[e]},version:"1.0.0"},e},this),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=t(e):"function"==typeof define&&define.amd?define([],function(){return t(e)}):(null==e.SFM&&(e.SFM={}),e.SFM||(e.SFM={}),e.SFM.selib||(e.SFM.selib={}),e.SFM.selib.SfmSEventManager=t(e))}(function(t){function n(t,e){return t[e]&&0<t[e].length}function d(t,e){t||(n(e,"MouseMove")||(t.Environment.EnableMouseMoveMessage=!1),n(e,"MouseWheel")||(t.Environment.EnableMouseWheelMessage=!1))}var m=["LBDown","LBUp","RBDown","MBDown"],_={},e=function(t){if(!(this instanceof e))return new e(t);this.initialize(t)};return e.prototype={initialize:function(t){var e=this._zlsksfm_earth=t.earth;this._zlsksfm_gid=e.Factory.CreateGuid()},on:function(t,e,n,r,a,i){var l=this,o=l._zlsksfm_earth,s=_[l._zlsksfm_gid]||(_[l._zlsksfm_gid]={});if(!o||!s)return l;var u=t;if(!u)return l;var f=e;if("function"!=typeof f)return l;var d=m,c=s[u]||(s[u]=[]);if(0==c.length){var h=function(){for(var t=0;t<c.length;t++){var e=arguments,n=c[t],r=n._zlsksfm_filter;if(void 0!==n._zlsksfm_p){e=[];for(var a=0,i=arguments.length;a<i;a++)e.push(arguments[a]);e.push(n._zlsksfm_p)}if(r)if("function"==typeof r)if(!r.apply(n._zlsksfm_context,e))continue;n._zlsksfm_callback.apply(n._zlsksfm_ctx,e),0<n._zlsksfm_times&&n._zlsksfm_times--,0==n._zlsksfm_times&&c.splice(t--,1)}0<=function(t,e){for(var n=0,r=e.length;n<r;n++)if(e[n]==t)return n;return-1}(u,d)&&window.setTimeout(function(){o.Event["On"+u]=h},20)};"MouseMove"==u&&(o.Environment.EnableMouseMoveMessage=!0),"MouseWheel"==u&&(o.Environment.EnableMouseWheelMessage=!0),o.Event["On"+u]=h}return c.push({_zlsksfm_callback:f,_zlsksfm_context:n,_zlsksfm_ctx:n||l,_zlsksfm_filter:a,_zlsksfm_p:i,_zlsksfm_times:r}),l},once:function(t,e,n,r,a){return this.on(t,e,n,1,r,a),this},off:function(t,e,n){var r=this,a=(r._zlsksfm_earth,_[r._zlsksfm_gid]||(_[r._zlsksfm_gid]={}));if(!a)return r;var i=t,l=e;if(!i){if(n){for(var o in a)for(var s=a[o],u=0;u<s.length;u++)s[u]._zlsksfm_context&&s[u]._zlsksfm_context==n&&(s.splice(u,1),u--);return d(r._zlsksfm_earth,a),r}for(var u in a)delete a[u];return d(r._zlsksfm_earth,a),r}s=a[i]||(a=[]);if(!l){if(n){for(u=0;u<s.length;u++)s[u]._zlsksfm_context&&s[u]._zlsksfm_context==n&&(s.splice(u,1),u--);return d(r._zlsksfm_earth,a),r}return s.splice(0,s.length),d(r._zlsksfm_earth,a),r}for(u=0;u<s.length;u++){var f=s[u];f._zlsksfm_callback==l&&(n&&f._zlsksfm_context&&f._zlsksfm_context!=n||s.splice(u--,1))}return 0==s.length&&delete a[i],d(r._zlsksfm_earth,a),r},version:"0.0.1"},e},this),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=t(e):"function"==typeof define&&define.amd?define([],function(){return t(e)}):(null==e.SFM&&(e.SFM={}),e.SFM||(e.SFM={}),e.SFM.selib||(e.SFM.selib={}),e.SFM.selib.SfmSBalloonManager=t(e))}(function(t){function C(t,e,n){try{if(!t)return n;var r=function(t,e,n){try{var r=e.split("."),a=t=t||{},i=0;for(i=0;i<r.length-1;i++)a[r[i]]||(a[r[i]]={}),a=a[r[i]];return void 0!==n&&(a[r[i]]=n),a[r[i]]}catch(t){}}(t,e);return void 0===r?n:r}catch(t){return n}}var e=function(t){if(!(this instanceof e))return new e(t);this.initialize(t)};return e.prototype={initialize:function(t){this.data={},this.data._zlsksfm_earth=t.earth;this.data._zlsksfm_em=t.eventManager;this.data.bs=[]},showBalloon:function(t){var e=this;if(!t)return e;var n=C(t,"x",null),r=C(t,"y",null),a=C(t,"z",null);if(isNaN(n)&&n.indexOf("%")<0||isNaN(r)&&r.indexOf("%")<0)return e;var i=C(t,"width",280),l=C(t,"height",340);"string"==typeof i&&0<i.indexOf("%")&&(i=e.data._zlsksfm_earth.clientWidth*Number(i.replace("%",""))/100),"string"==typeof l&&0<l.indexOf("%")&&(l=e.data._zlsksfm_earth.clientHeight*Number(l.replace("%",""))/100);var o=C(t,"alpha",-1),s=e.data._zlsksfm_earth.Factory.CreateGUID(),u=C(t,"name",""),f=e.data._zlsksfm_earth.Factory.CreateHtmlBalloon(s,u),d=C(t,"draggable",!1),c=C(t,"bgi",!1);o<0?(f.SetIsTransparence(!1),c||f.SetBackgroundAlpha(0)):(f.SetIsTransparence(!0),f.SetBackgroundAlpha(o)),null!=a?f.SetSphericalLocation(n,r,a):("number"==typeof n?n<0?n=e.data._zlsksfm_earth.scrollWidth+n-i/2:n+=i/2:"string"==typeof n&&0<n.indexOf("%")&&(n=Number(n.replace("%",""))/100,n=e.data._zlsksfm_earth.scrollWidth*n),"number"==typeof r?r<0?r=e.data._zlsksfm_earth.scrollHeight+r:r+=l:"string"==typeof r&&0<r.indexOf("%")&&(r=Number(r.replace("%",""))/100,r=e.data._zlsksfm_earth.scrollHeight*r+l*r),C(t,"autoOffset",!1)&&(n-=0,r+=19,i+=38,l+=38),f.SetScreenLocation(n,r)),f.SetRectSize(i,l),f.SetTailColor(C(t,"tailColor",4294967040)),f.SetIsAddCloseButton(C(t,"closable",!0)),f.SetIsAddMargin(C(t,"roundCorner",!0)),f.SetIsAddBackgroundImage(!d);var h=C(t,"placement",null);null!=h&&f.SetBalloonPosType(h);var m=C(t,"backgroundColor",null),_=C(t,"blendColor",null);null!=m&&f.SetBackgroundRGB(m),null!=_&&f.SetBlendColor(_);var g=C(t,"focus",!1);1==g&&f.SetIsFocusAtShow(g);var y=0,v=null;null!=t.content?v="DocumentReadyLoading":t.url&&(v="DocumentReadyCompleted",y=1);var S=C(t,"onReady",null);"function"==typeof S&&e.data._zlsksfm_em.on(v,S,f,-1,function(t){return t==s});var p=C(t,"onHide",null);"function"==typeof p&&e.data._zlsksfm_em.on("HtmlBalloonFinished",p,f,-1,function(t){return t==s}),0==y?f.ShowHtml(t.content):1==y&&f.ShowNavigate(t.url);var k={id:s,balloon:f,onReady:S,onHide:p,type:y};return e.data.bs.push(k),k},getBalloon:function(t){for(var e=this.data.bs,n=0;n<e.length;n++){var r=e[n];if(r.id==t)return r}return null},remove:function(t,e){for(var n=this.data.bs,r=this.data._zlsksfm_em,a=0;a<n.length;a++){if(n[a].id==t){var i=n.splice(a,1)[0];if("function"==typeof i.onReady){var l="DocumentReadyLoading";1==i.type&&(l="DocumentReadyCompleted"),r.off(l,i.onReady,i.balloon)}"function"==typeof i.onHide&&(e&&i.onHide.call(i.balloon,t),r.off("HtmlBalloonFinished",i.onHide,i.balloon)),null!=i.balloon&&(i.balloon.DestroyObject(),delete i.balloon),a--}}return this},clear:function(){for(var t=this.data.bs,e=this.data._zlsksfm_em;0<t.length;){var n=t.pop();if("function"==typeof n.onReady){var r="DocumentReadyLoading";1==n.type&&(r="DocumentReadyCompleted"),e.off(r,n.onReady,n.balloon)}"function"==typeof n.onHide&&e.off("HtmlBalloonFinished",n.onHide,n.balloon),null!=n.balloon&&(n.balloon.DestroyObject(),delete n.balloon)}return this},_onHtmlBalloonFinished:function(t){this.remove(t)},destroy:function(){this.data._zlsksfm_em.off("HtmlBalloonFinished",me._onHtmlBalloonFinished,me),this.clear()},version:"0.0.1"},e},this),function(e,n){if("undefined"!=typeof module&&module.exports){var t=require("sfmSEnum");module.exports=e(t,n)}else if("function"==typeof define&&define.amd)define(["sfmSEnum"],function(t){return e(t,n)});else{null==n.SFM&&(n.SFM={}),n.SFM||(n.SFM={});var r=n.SFM.selib||(n.SFM.selib={});n.SFM.selib.SfmSGuiHelper=e(r.sfmSEnum,n)}}(function(l,t){function W(t,e,n){var r;return t?void 0===(r=t[e])?n:r:n}function r(t,e,n){for(var r=0,a=t.length;r<a;r++)if(t[r][e]==n)return t[r];return null}function s(t,e,n,r){for(var a=[],i=0;i<t.length;i++)if(t[i][e]==n&&(a.push(t.splice(i--,1)[0]),!r))return a;return a}function a(t){return t.scrollWidth}function i(t){return t.scrollHeight}function V(t,e,n,r){return"-0"===e?(r?r.width:a(t))-n:0<=e?e:(r?r.width:a(t))+e-n}function X(t,e,n,r){return"-0"===e?(r?r.height:i(t))-n:0<=e?e:(r?r.height:i(t))+e-n}function Y(t,e){var n=t.Factory.CreateVector3();return n.X=Number(e.x),n.Y=Number(e.y),n.Z=null==e.z?0:Number(e.z),n}function o(t,e,n){return(t=t||{}).type=e,t.style||(t.style=n),t}function u(t,e){for(var n in e)null==t[n]&&(t[n]=e[n])}var J=l.controlType.DEFAULT_WINDOW,Z=99e4,f=l.controlType,e=function(t){if(!(this instanceof e))return new e(t);this.initialize(t)};return e.prototype={initialize:function(t){var e=this;e.data={},e.data._zlsksfm_earth=t.earth,e.data._zlsksfm_em=t.eventManager,e.data._zlsksfm_ca=[],e.data._zlsksfm_cm={}},initGui:function(t,e,n,r,a,i,l){var o=this,s=o.data._zlsksfm_earth;o.data._zlsksfm_sm=0,o.data._zlsksfm_sn=e||"StampGIS",o.data._zlsksfm_osn=n||"TaharezLook",o.data._zlsksfm_lo=t||"sfminit";var u=o.data._zlsksfm_lo+".layout",f=o.data._zlsksfm_sn+".scheme";if(r){var d=o.data._zlsksfm_gui=s.GUIManager.CreateStampGui("");return d.SetResourcePath(a||s.Environment.RootPath+"datafiles",o.data._zlsksfm_sm=1),d.SetInitLayout(u,f),"function"==typeof i&&i(),o}return o.data._zlsksfm_em.once("CEGUIResourceLoaded",function(t){t?(o.data._zlsksfm_gui=s.GUIManager.CreateStampGui(""),"function"==typeof i&&i()):"function"==typeof l&&l()},o),f="",s.GUIManager.ApplyGuiResource(f,u),o},getSeGui:function(){return this.data._zlsksfm_gui},nextId:function(){return Z++},createControl:function(t,e){var n=this,r=n.data._zlsksfm_earth,a=n.getSeGui();t=t||"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/x/g,function(t){return(16*Math.random()|0).toString(16)});var i=Z++,l=W(e,"pid",0);"string"==typeof l&&(l=(l=n.getControl(l))?l.id:0);var o=W(e,"type",J),s=W(e,"style","StampGIS/StaticImage"),u=W(e,"x",0),f=W(e,"y",0),d=W(e,"width",100),c=W(e,"height",100),h=W(e,"group",null),m=n.getSize(l),_=V(r,u,d,m),g=X(r,f,c,m);a.CreateCommonControl(i,l,s,_,g,d,c);var y=W(e,"fpex",!1),v=W(e,"sx",0),S=W(e,"sy",0);y&&a.SetPositionExByID(i,v,u,S,f);var p=W(e,"fsex",!1),k=W(e,"sw",0),C=W(e,"sh",0);p&&a.SetSizeExByID(i,k,d,C,c);var z=W(e,"visible",!0);a.SetVisibleByID(i,!!z);var I=W(e,"enable",!0);a.SetEnabledByID(i,I?1:0);var b=W(e,"text",null);null!=b&&a.SetTextByID(i,b);var G=W(e,"tooltip",null);G&&a.SetToolTipTextByID(i,G);var x=W(e,"alpha",.8);1<x&&(x=1),x<0&&(x=0),a.SetAlphaByID(i,x);var M=W(e,"onTop",null);null!==M&&a.SetAlwaysOntopByID(i,M),null!=(z=W(e,"fontName",null))&&a.SetFontByID(i,z);var B=W(e,"fontColor",null);null!=B&&a.SetFontColorByID(i,B);var T=W(e,"bgColor",null);null!=T&&a.SetBackGroundColorByID(i,T);var F=W(e,"bgImage",null);if(null!=F)if(s.indexOf("ImageButton")<0)a.SetBackGroundImageByID(i,F);else{if(F instanceof Array||(F=[F,F,F,F]),F.length<4)for(var E=F.length-1;E<4;E++)F.push(F[F.length-1]);a.SetImageButtonBackGroundByID(i,F[0],F[1],F[2],F[3])}var D=W(e,"bg",null);null!==D&&a.SetBackGroundEnableByID(i,!!D);var O=W(e,"textHAlign",null);null!=O&&a.SetTextHorizontalFormatting(i,O);var A=W(e,"textVAlign",null);null!=A&&a.SetTextVerticalFormatting(i,A);var L=W(e,"controlHAlign",null);null!=L&&a.SetControlHorizontalAligned(i,L);var N=W(e,"controlVAlign",null);null!=N&&a.SetControlVerticalAligned(i,N);var R=W(e,"selectedBrush",null);null!=R&&a.SetSelectedBrush(i,R);var P=W(e,"border",null);null!=P&&a.SetFrameEnableByID(i,!!P);var H=W(e,"rotateCenter",null);H=H&&Y(r,H);var w=W(e,"rotateAngle",null);w&&a.SetRotationByID(i,Y(r,w),H);var U={id:i,key:t,group:h,x:u,y:f,tx:_,ty:g,width:d,height:c,type:o,style:s,fpex:y,sx:v,sy:S,fsex:p,sw:k,sh:C};return n.data._zlsksfm_ca.push(U),n.data._zlsksfm_cm[t]=U},destroyControl:function(t){var e=this,n=e.getSeGui(),r=e.getControl(t);if(!r)return e;var a=s(e.data._zlsksfm_ca,"id",r.id);if(a)for(var i=0,l=a.length;i<l;i++){var o=a[i];e.data._zlsksfm_em.off(null,null,o),delete e.data._zlsksfm_cm[o.key],n.DestroyByID(o.id)}return e},getControl:function(t){return"number"==typeof t?this.getControlById(t):"string"==typeof t?this.getControlByKey(t):t},getControlByKey:function(t){return r(this.data._zlsksfm_ca,"key",t)},getControlById:function(t){return r(this.data._zlsksfm_ca,"id",t)},findControlsByGroup:function(t){return function(t,e,n){for(var r=[],a=0,i=t.length;a<i;a++)t[a][e]==n&&r.push(t[a]);return r}(this.data._zlsksfm_ca,"group",t)},setControlProp:function(t,e){var n=this;if(!e)return n;var r=n.data._zlsksfm_earth,a=n.getSeGui(),i=n.getControl(t);if(!i)return n;var l=i.id,o=!1,s=!1,u=W(e,"x",i.tx),f=W(e,"y",i.ty),d=W(e,"width",i.width),c=W(e,"height",i.height),h=n.getSize(n.getParentId(l)),m=(V(r,u,d,h),X(r,f,c,h),null),_=W(e,"sw",null),g=W(e,"sh",null),y=W(e,"width",null),v=W(e,"height",null);o=!1,null==_&&null==g&&null==y&&null==v||(o=!0,a.SetSizeExByID(l,_,y,g,v));var S=W(e,"sx",null),p=W(e,"sy",null),k=W(e,"x",null),C=W(e,"y",null);if(s=!1,null==S&&null==p&&null==k&&null==C||(s=!0,a.SetPositionExByID(l,S,k,p,C)),o&&!s){var z=(m=a.GetPositionExByID(l)).Items(0),I=m.Items(1);a.SetPositionExByID(l,z.X,I.X,z.Y,I.Y+1),a.SetPositionExByID(l,z.X,I.X,z.Y,I.Y)}var b=W(e,"visible",null);null!=b&&a.SetVisibleByID(l,!!b),null!=(b=W(e,"enable",null))&&a.SetEnabledByID(l,!!b),null!=(b=W(e,"text",null))&&a.SetTextByID(l,b),null!=(b=W(e,"tooltip",null))&&a.SetToolTipTextByID(l,b),null!=(b=W(e,"alpha",null))&&a.SetAlphaByID(l,b);var G=W(e,"onTop",null);if(null!==G&&a.SetAlwaysOntopByID(l,G),null!=(b=W(e,"fontName",null))&&a.SetFontByID(l,b),null!=(b=W(e,"fontColor",null))&&a.SetFontColorByID(l,b),null!=(b=W(e,"bgColor",null))&&a.SetBackGroundColorByID(l,b),null!=(b=W(e,"bgImage",null)))if(i.style.indexOf("ImageButton")<0)a.SetBackGroundImageByID(l,b);else{if(b instanceof Array||(b=[b,b,b,b]),b.length<4)for(var x=b.length-1;x<4;x++)b.push(b[b.length-1]);a.SetImageButtonBackGroundByID(l,b[0],b[1],b[2],b[3])}var M=W(e,"bg",null);null!==M&&a.SetBackGroundEnableByID(id,!!M);var B=W(e,"textHAlign",null);null!=B&&a.SetTextHorizontalFormatting(l,B);var T=W(e,"textVAlign",null);null!=T&&a.SetTextVerticalFormatting(l,T);var F=W(e,"controlHAlign",null);null!=F&&a.SetControlHorizontalAligned(l,F);var E=W(e,"controlVAlign",null);null!=E&&a.SetControlVerticalAligned(l,E);var D=W(e,"selectedBrush",null);null!=D&&a.SetSelectedBrush(l,D);var O=W(e,"border",null);null!=O&&a.SetFrameEnableByID(l,!!O);var A=W(e,"rotateCenter",null);A=A&&Y(r,A);var L=W(e,"rotateAngle",null);return L&&a.SetRotationByID(l,Y(r,L),A),n},setControlPropByGroup:function(t,e){for(var n=this.findControlsByGroup(t),r=0,a=n.length;r<a;r++)this.setControlProp(n[r],e);return this},bindEvent:function(t,e,n,r){var a=this.data._zlsksfm_em,i=this.getSeGui();switch(t){case"CEGUICommon":return i.SetCommonEvent(e.id),this;case"CEGUIMouseHover":i.SetHoverEventByID(e.id,e.type);break;case"CEGUIMouseUnhover":i.SetUnhoverEventByID(e.id,e.type);break;case"CEGUIMouseClick":case"CEGUIButtonClick":i.SetClickEventByID(e.id,e.type);break;case"CEGUIMouseDbclick":i.SetDbClickEventByID(e.id,e.type);break;case"CEGUITreeDbClick":i.SetTreeDbClickEventByID(e.id,e.type||10);break;case"CEGUIMouseRightClick":i.SetRightButtonClick(e.id,e.type);break;case"CEGUITreeRightClick":i.SetTreeRightButtonClick(e.id,e.type);break;case"CEGUICheckStateChanged":i.SetCheckStateChangedEventByID(e.id,e.type);break;case"CEGUISelectStateChanged":i.SetSelectStateChangedEventByID(e.id,e.type);break;case"CEGUITreeCheckChanged":i.SetTreeCheckChangedEventByID(e.id,e.type||10);break;case"CEGUIWinClosed":i.SetWindowCloseEventByID(e.id)}return a.on(t,n,e,null,function(t,e){return t==this.id},r),this},bindEvents:function(t,e){var n=this.getControl(e);if(t&&n){for(var r in t){var a=t[r];null==a||"function"==typeof a?this.bindEvent(r,n,t[r]):this.bindEvent(r,n,a.callback,a.params)}return this}},unbindEvent:function(t,e,n){return this.data._zlsksfm_em.off(t,n,e),this},unbindEvents:function(t,e){var n=this.getControl(e);if(t&&n){for(var r in t)this.unbindEvent(r,n,t[r]);return this}},isVisible:function(t){var e=this.getSeGui(),n=this.getControl(t);return n?!!e.GetVisibleByID(n.id):null},isEnable:function(t){var e=this.getSeGui(),n=this.getControl(t);return n?!!e.GetEnabledByID(n.id):null},getParentId:function(t){var e=this.getSeGui(),n=this.getControl(t);return n?e.GetParentID(n.id):"number"==typeof t?e.GetParentID(t):0},getParent:function(t){var e=this.getParentId(t);return 0==e?0:this.getControl(e)},getSize:function(t){if(0==t)return{width:a(this.data._zlsksfm_earth),height:i(this.data._zlsksfm_earth)};var e=this.getControl(t);return e?{width:e.width,height:e.height}:null},getGlobePosition:function(t,e){var n=this.getControl(t);if(!n)return null;null==e&&(e=0);for(var r=n.tx,a=n.ty,i=this.getParentId(n);null!=i&&i!=e&&0!=(n=this.getParent(n));)r+=n.tx,a+=n.ty;return{x:r,y:a}},addInControls:function(t){var e=this;if(!t)return e;if(t instanceof Array)for(var n=0,r=t.length;n<r;n++){var a=t[n];"string"==typeof a.type&&(a.type=l.controlType[a.type]),e.data._zlsksfm_ca.push(a);var i=null==a.key?a.key=a.id:a.key;e.data._zlsksfm_cm[i]=a,e.setControlProp(a,a)}else if("object"==typeof t)for(var i in t)"string"==typeof t[i].type&&(t[i].type=l.controlType[t[i].type]),e.data._zlsksfm_ca.push(t[i]),e.data._zlsksfm_cm[i]=t[i],e.setControlProp(t[i],t[i]);return e},createDefaultWindow:function(t,e){return e=o(e,f.DEFAULT_WINDOW,"DefaultWindow"),u(e,{alpha:1}),this.createControl(t,e)},createDragContainer:function(t,e){return e=o(e,f.DEFAULT_WINDOW,"DragContainer"),u(e,{alpha:1}),this.createControl(t,e)},createFrameWindow:function(t,e){return e=o(e,f.FRAME_WINDOW,this.data._zlsksfm_sn+"/FrameWindow"),this.createControl(t,e)},createButton:function(t,e){return e=o(e,f.BUTTON,this.data._zlsksfm_sn+"/Button"),this.createControl(t,e)},createImageButton:function(t,e){return e=o(e,f.IMAGE_BUTTON,this.data._zlsksfm_sn+"/ImageButton"),this.createControl(t,e)},createLabel:function(t,e){return e=o(e,f.STATIC_TEXT,this.data._zlsksfm_sn+"/Label"),u(e,{alpha:1}),this.createControl(t,e)},createStaticText:function(t,e){return e=o(e,f.STATIC_TEXT,this.data._zlsksfm_osn+"/StaticText"),u(e,{alpha:1}),this.createControl(t,e)},createStaticImage:function(t,e){return e=o(e,f.STATIC_IMAGE,this.data._zlsksfm_sn+"/StaticImage"),this.createControl(t,e)},createCheckbox:function(t,e){e=o(e,f.CHECKBOX,this.data._zlsksfm_sn+"/Checkbox");var n=this.createControl(t,e);return null!=e.checked&&this.getSeGui().SetCheckBoxState(n.id,!!e.checked),n},isCheckboxChecked:function(t){var e=this.getControl(t);return e?1==this.getSeGui().GetCheckBoxState(e.id):null},setCheckboxChecked:function(t,e){var n=this.getControl(t);return n&&this.getSeGui().SetCheckBoxState(n.id,!!e),this},createRadioButton:function(t,e){e=o(e,f.RADIOBUTTON,this.data._zlsksfm_sn+"/RadioButton");var n=this.createControl(t,e);return null!=e.checked&&this.getSeGui().SetRadioButtonState(n.id,!!e.checked),n},isRadioButtonChecked:function(t){var e=this.getControl(t);return e?1==this.getSeGui().GetRadioButtonState(e.id):null},setRadioButtonChecked:function(t,e){var n=this.getControl(t);return n&&this.getSeGui().SetRadioButtonState(n.id,!!e),this},createTree:function(t,e){e=o(e,f.TREE,this.data._zlsksfm_sn+"/Tree"),u(e,{selectedBrush:this.data._zlsksfm_sn+"/TextSelectionBrush"});var n=this.createControl(t,e);return e.data&&this.setTreeInfo(n,e.data),n},getTreeInfo:function(t){var e=this.getControl(t);if(!e)return null;var n=this.getSeGui().GetTreeInfo(e.id);return r(e.data&&e.data.tdata,"id",n)},setTreeInfo:function(t,e){var n=this,r=n.getControl(t);if(!r)return n;var a=n.getSeGui(),i=e,l=null;try{"string"==typeof e?i=JSON.parse(l=e):l=JSON.stringify(e)}catch(t){return n}return r.data?r.data.tdata=i:r.data={tdata:i},a.SetTreeInfo(r.id,l),n},getTreeRootInfo:function(t){var e=this.getControl(t);if(!e)return null;var n=this.getSeGui().GetTreeRootInfo(e.id);return JSON.parse(n)},getTreeItemInfo:function(t,e){var n=this.getControl(t);if(!n)return null;var r=this.getSeGui(),a="object"==typeof e?e.id:e,i=r.GetTreeItemInfo(n.id,a);return JSON.parse(i)},setTreeItemInfo:function(t,e,n){var r=this.getControl(t);if(!r)return this;var a=this.getSeGui(),i="object"==typeof e?e.id:e,l=n,o="string"==typeof n?(l=JSON.parse(n),n):JSON.stringify(n);a.SetTreeItemInfo(r.id,i,o);var s=function(t,e,n){for(var r=0,a=t.length;r<a;r++)if(t[r][e]==n)return r;return-1}(r.data.tdata,"id",i);return s<0||(r.data.tdata[s]=l),this},getTreeChildrenInfo:function(t,e){var n=this.getControl(t);if(!n)return null;var r=this.getSeGui(),a="object"==typeof e?e.id:e,i=r.getItemChildInfo(n.id,a);return JSON.parse(i)},getTreeParentItemInfo:function(t,e){var n=this.getControl(t);if(!n)return null;var r=this.getSeGui(),a="object"==typeof e?e.id:e,i=r.getItemParentInfo(n.id,a);return JSON.parse(i)},getTreeCheckInfo:function(t){var e=this.getControl(t);if(!e)return null;var n=this.getSeGui().GetTreeCheckInfo(e.id);if(!n)return null;n=n.split(" ");var r=this.getTreeItemInfo(e,Number(n[0]));return r?{item:r,checked:!!Number(n[1])}:null},addTreeItem:function(t,e,n){var r=this.getControl(t);if(!r)return null;var a=this.getSeGui(),i="object"==typeof e?e.id:e,l=n,o="string"==typeof n?(l=JSON.parse(n),n):JSON.stringify(n),s=!1;if(l.pid!=i&&(l.pid=i,s=!0),null==l.id){var u=function(t,e,n){if(!t)return null;for(var r=null,a=null,i=0,l=t.length;i<l;i++){var o=t[i],s=o[e];"function"==typeof n?s=n(s,e,o):"number"!=typeof s&&(s=Number(s)),(null==r||a<s)&&(r=o,a=s)}return o}(r.data.tdata,"id");l.id=null==u?1:u+1,s=!0}return s&&(o=JSON.stringify(l)),a.AddTreeItemInfo(r.id,i,l.id,o),r.data.tdata.push(l),l},deleteTreeItem:function(t,e){var n=this.getControl(t);if(!n)return null;var r=this.getSeGui(),a="object"==typeof e?e.id:e;return r.DeleteTreeItemInfo(n.id,a),s(n.data.tdata,"id",a)},version:"1.0.0"},e},this),function(l,o){if("undefined"!=typeof module&&module.exports){var t=require("sfmSEnum"),e=require("sfmSOgrHelper"),n=require("SfmSFileHelper"),r=require("SfmSEventManager"),a=require("SfmSBalloonManager"),i=require("SfmSGuiHelper");module.exports=l(t,e,n,r,a,i,o)}else if("function"==typeof define&&define.amd)define(["sfmSEnum","sfmSOgrHelper","SfmSFileHelper","SfmSEventManager","SfmSBalloonManager","SfmSGuiHelper"],function(t,e,n,r,a,i){return l(t,e,n,r,a,i,o)});else{null==o.SFM&&(o.SFM={}),o.SFM||(o.SFM={});var s=o.SFM.selib||(o.SFM.selib={});o.SFM.selib.ZlskSeHelper=l(s.sfmSEnum,s.SfmSOgrHelper,s.SfmSFileHelper,s.SfmSEventManager,s.SfmSBalloonManager,s.SfmSGuiHelper,o),delete s.sfmSEnum,delete s.SfmSOgrHelper,delete s.SfmSFileHelper,delete s.SfmSEventManager,delete s.SfmSBalloonManager,delete s.SfmSGuiHelper}}(function(t,e,n,r,a,i,l){function f(t,e,n){var r;return t?void 0===(r=t[e])?n:r:n}function o(t,e,n){var r=null==n||n<0?0:n;return Math.abs(t-e)<=r}var _=6378137,s=function(t,e,n){if(!0===n&&t.Name==e||!n&&0<=t.Name.toLowerCase().indexOf(e.toLowerCase()))return t;for(var r=0;r<t.GetChildCount();r++){var a=s(t.GetChildAt(r),e,n);if(a)return a}return null},u=function(t,e,n,r){if(!0===r&&e.Name==n||!r&&0<=e.Name.toLowerCase().indexOf(n.toLowerCase()))t.push(e);else for(var a=0;a<e.GetChildCount();a++)u(t,e.GetChildAt(a),n,r);return t},d=function(t,e,n,r){var a=e.LayerType||e.DEMType||"dom";0<=$.inArray(a.toLowerCase(),n)&&r.push(e);var i=e.GetChildCount();if(0<i)for(var l=0;l<i;l++)d(t,e.GetChildAt(l),n,r);return r},c=function(t,e){for(var n=e.GetChildCount(),r=0;r<n;r++){var a=e.GetChildAt(r);if(a.Guid==t)return!0;if(0<a.GetChildCount())if(c(t,a))return!0}return!1},h=function(t){if(!(this instanceof h))return new h(t);this.initialize(t)};return h.prototype={initialize:function(t){this.data={},this.data._zlsksfm_eo=t.earth,this.data._zlsksfm_ip=t.ip,this.data._zlsksfm_dp=t.dataPro},destroy:function(){this.unloadEarth()},getGeoDataHelper:function(){var t=this.data;return t._zlsksfm_gd||(t._zlsksfm_gd=new e({earth:t._zlsksfm_eo,dataPro:t._zlsksfm_dp}))},getFileHelper:function(){var t=this.data;return t._zlsksfm_fh||(t._zlsksfm_fh=new n({earth:t._zlsksfm_eo,ip:t._zlsksfm_ip}))},getEventManager:function(){return this.data._zlsksfm_em||(this.data._zlsksfm_em=new r({earth:this.data._zlsksfm_eo}))},getBallonManager:function(){var t=this.data;return t._zlsksfm_bm||(t._zlsksfm_bm=new a({earth:t._zlsksfm_eo,eventManager:this.getEventManager()}))},getGuiManager:function(){return this.data._zlsksfm_gm||(this.data._zlsksfm_gm=new i({earth:this.data._zlsksfm_eo,eventManager:this.getEventManager()}))},getLonlatFromScreenPoint:function(t,e,n){var r=this.data._zlsksfm_eo.GlobeObserver.PickTerrain(t,e);return{lon:r.Longitude,lat:r.Latitude,alt:r.Altitude}},getScreenPointFromLonlat:function(t,e,n){var r=this.data._zlsksfm_eo.Factory.CreateGeoPoint();r.Longitude=t,r.Latitude=e,r.Altitude=n;var a=this.data._zlsksfm_eo.GlobeObserver.ReversePick(r);return{x:a.X,y:a.Y}},unloadEarth:function(){var t=this.data._zlsksfm_eo;t.Environment.EnableMouseMoveMessage=!1,t.Environment.EnableMouseWheelMessage=!1,t.style.width=0,t.style.height=0,t.Suicide()},diluteV3s:function(t,e,n){if(!e||e.Count<2)return e.Clone();var r=t.Factory.CreateVector3s();r.Add(e.Items(0).X,e.Items(0).Y,e.Items(0).Z);for(var a=0;a<e.Count-1;a++){var i=e.Items(a),l=e.Items(a+1);o(i.X,l.X,n)&&o(i.Y,l.Y,n)&&o(i.Z||0,l.Z||0,n)||r.Add(l.X,l.Y,l.Z)}return r},getCurrentScale:function(){var t=this.data._zlsksfm_eo,e=t.GlobeObserver.Pose.Altitude*Math.tan(22.5*Math.PI/180);return e=e/(t.scrollHeight/2)*96},getLayerByGuid:function(t){return"string"==typeof t?this.data._zlsksfm_eo.LayerManager.GetLayerByGUID(t):t},getLayerByName:function(t,e,n,r){return s(n||t.LayerManager.LayerList,e,r)},getLayersByName:function(t,e,n,r){return u([],n||t.LayerManager.LayerList,e,r)},getLayerByType:function(t,e,n){return d(t,e||t.LayerManager.LayerList,n,[])},isParentsLayer:c,setLayerVisible:function(t,e){var n=this.getLayerByGuid(t);return n&&(n.Visibility=e),this},getCameraPose:function(){var t=this.data._zlsksfm_eo,e=t.GlobeObserver.Pose,n=t.GlobeObserver.TargetPose;return{target:{lon:n.Longitude,lat:n.Latitude,alt:n.Altitude},lon:e.Longitude,lat:e.Latitude,alt:e.Altitude,heading:e.Heading,tilt:e.Tilt,roll:e.Roll,range:e.Range}},locateLayer:function(t){var e=this,n=e.getLayerByGuid(t);if(!n)return e;var r=n.LonLatRect;r.North,r.South,r.East,r.West;return e.locateRect(r.West,r.South,r.East,r.North,4),e},flytoLookat:function(t){return this.lookat(t)},gotoLookat:function(t){return t&&(t.locate=!0,this.lookat(t)),this},lookat:function(t){if(!t)return this;var e=t.lon,n=t.lat;if(null==e||null==n)return this;var r=this.data._zlsksfm_eo,a=null==t.alt?r.Measure.MeasureTerrainAltitude(e,n):t.alt,i=f(t,"heading",0),l=f(t,"tilt",90),o=f(t,"roll",0),s=f(t,"range",5),u=f(t,"time",4);return!0!==t.locate?r.GlobeObserver.FlytoLookat(e,n,a,i,l,o,s,u):r.GlobeObserver.GotoLookat(e,n,a,i,l,o,s),this},getPoseByRect:function(t,e,n,r,a){var i=(t+n)/2,l=(e+r)/2,o=this.data._zlsksfm_eo.Measure.MeasureTerrainAltitude(i,l),s=Math.max(n-t,r-e)/2,u=0<s?s*Math.PI/180*_/Math.tan(.125*Math.PI):10;return a&&0<a&&1!=a&&(u*=Math.sqrt(a)),{lon:i,lat:l,alt:o,range:u}},locateRect:function(t,e,n,r,a,i,l,o){var s=(t+n)/2,u=(e+r)/2,f=this.data._zlsksfm_eo.Measure.MeasureTerrainAltitude(s,u),d=Math.max(n-t,r-e)/2,c=0<d?d*Math.PI/180*_/Math.tan(.125*Math.PI):10;i&&0<i&&1!=i&&(c*=Math.sqrt(i));var h=null==l?0:l,m=null==o?90:o;return!1===a||isNaN(a)||a<0?this.data._zlsksfm_eo.GlobeObserver.GotoLookat(s,u,f,h,m,0,c):this.data._zlsksfm_eo.GlobeObserver.FlytoLookat(s,u,f,h,m,0,c,a),this},locateToRect:function(t,e,n,r,a,i){var l=this.data._zlsksfm_eo;return 0<i?l.GlobeObserver.FlytoLonLatRect(r,e,n,t,a,i):l.GlobeObserver.GotoLonLatRect(r,e,n,t,a),this},createSrFromFile:function(t){var e=this.data._zlsksfm_dp.CoordFactory.CreateSpatialRef();return e.InitFromFile(t),e},createDatumFromFile:function(t){var e=this.createSrFromFile(t);if(!e)return null;var n=this.data._zlsksfm_dp.CoordFactory.CreateDatum();return n.Init(e),n},toV3:function(t){if(!t)return null;var e,n,r,a=this.data._zlsksfm_eo.Factory.CreateVector3();return t instanceof Array?(e=t[0],n=t[1],r=t[2]):"object"==typeof t&&(e=t.x,n=t.y,r=t.z),a.X=Number(e),a.Y=Number(n),a.Z=null==r?0:Number(r),a},toV3s:function(t,e){if(!t)return null;for(var n=this.data._zlsksfm_eo.Factory.CreateVector3s(),r=0,a=t.length;r<a;r++){var i=this.toV3(t[r]);if(i)n.AddVector(i);else if(e)return null}return n},rectArrToV3s:function(t){if(!t)return null;var e=this.data._zlsksfm_eo.Factory.CreateVector3s();return e.Add(Number(t[0]),Number(t[1]),0),e.Add(Number(t[2]),Number(t[1]),0),e.Add(Number(t[2]),Number(t[3]),0),e.Add(Number(t[0]),Number(t[3]),0),e},getCenter:function(t){if(!t)return null;var e=this.data._zlsksfm_eo,n=this.toV3s(t);if(!n||n.Count<2)return null;var r={};if(2==n.Count)r.x=(n.Items(0).X+n.Items(1).X)/2,r.y=(n.Items(0).Y+n.Items(1).Y)/2,r.z=(n.Items(0).Z+n.Items(1).Z)/2;else{var a=e.Factory.CreatePolygon();a.AddRing(n),r={x:(r=a.GetCenterPoint()).X,y:r.Y,z:r.Z}}return r},getCenterV3:function(t){if(!t)return null;var e=this.data._zlsksfm_eo,n=this.toV3s(t);if(!n||n.Count<2)return null;var r={};if(2==n.Count)r.x=(n.Items(0).X+n.Items(1).X)/2,r.y=(n.Items(0).Y+n.Items(1).Y)/2,r.z=(n.Items(0).Z+n.Items(1).Z)/2,r=this.toV3(r);else{var a=e.Factory.CreatePolygon();a.AddRing(n),r=a.GetCenterPoint()}return r},zlskSEnum:t,ZlskSBalloonManager:a,version:"0.0.1"},h.zlskSEnum=t,h},this);
