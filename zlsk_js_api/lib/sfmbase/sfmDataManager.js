!function(e,t){if("undefined"!=typeof module&&module.exports){var n=require("jquery"),r=require("underscore"),o=require("SfmModuleBase");module.exports=e(n,r,o)}else"function"==typeof define&&define.amd?define(["jquery","underscore","sfmModuleBase"],e):(null==t.SFM&&(t.SFM={}),t.SFM.SfmDataManager=e(t.$,t._,t.SFM.SfmModuleBase))}(function(n,e,t){var r={},f={};return t.extend({constructor:function(e){this.base(e)},destroy:function(){for(var e in r)delete r[e];for(var e in f)delete f[e];this.base()},setData:function(e){for(var t in n.extend(!0,r,e),r)null===r[t]&&delete r[t];return this},getData:function(e){return this.getSfmUtil().attr(r,e)},addAction:function(e,t,n,r,o){return(f[e]||(f[e]=[])).push({a:t,c:n,t:r,p:o}),this},removeAction:function(e,t,n){var r=f[e];if(!r)return this;for(var o=0;o<r.length;o++)r[o].t==n&&r[o].c==t&&(r.splice(o,1),o--);return this},removeAllAction:function(e,t){for(var n in f){var r=f[n];if(r)for(var o=0;o<r.length;o++)r[o].t==t&&r[o].c==e&&(r.splice(o,1),o--)}return this},doAction:function(){var e=arguments.length,t=arguments[0];if(t){var n=f[t];if(n){n.sort(function(e,t){var n=e.p||0;return(t.p||0)-n});for(var r=[],o=2;o<e;o++)r.push(arguments[o]);var i=arguments[1],u=null;for(o=0;o<n.length;o++){var a=n[o];i&&a.c&&"function"==typeof a.c.getId&&a.c.getId()!=i||(u=a.a.apply(a.c,r))}return u}}},_loadRes:function(){return this},__getData4Debug:function(){return n.extend(!0,r,null)},__printData4Debug:function(){console.log(r)},__printAction4Debug:function(){console.log(f)},__className__:"SfmDataManager"})},window);
